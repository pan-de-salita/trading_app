
<div class="mx-2 my-4">
<div class="d-flex justify-content-between align-items-center">
    <h1>Transaction History</h1>

    <div class="btn-group dropleft">
            <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Sort by
            </button>
                <div class="dropdown-menu">
                        <%= link_to "Latest", admin_transactions_path(sort_by: 'created_at'), class:"dropdown-item" %>
                        <%= link_to "Oldest", admin_transactions_path(sort_by: 'created_at_asc'), class:"dropdown-item" %>
                        <%= link_to "Company Name", admin_transactions_path(sort_by: 'company_name'), class:"dropdown-item" %>
                        <%= link_to "Transaction Type", admin_transactions_path(sort_by: 'transaction_type'), class:"dropdown-item" %>
                </div>
    </div>
</div>
   
    <table class="table table-sm table-hover my-2">
        <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">User</th>
        <th scope="col">Company</th>
        <th scope="col">Ticker</th>
        <th scope="col">Transaction Type</th>
        <th scope="col">Amount</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Date</th>
    </tr>
</thead>
        <tbody>
            <% @transactions.each_with_index do |transaction, index| %>
            <tr>
                <th scope="row"><%= index + 1 %></th>
                <td><%= User.find(transaction.user_id).email %></td>
                <td><%= transaction.stock.company_name %></td>
                <td><%= transaction.stock.ticker %></td>
                <td><%= transaction.transaction_type %></td>
                <td><%= transaction.amount %></td>
                <td><%= transaction.share_price %></td>
                <td><%= transaction.share_qty %></td>
                <td><%= transaction.created_at.utc.strftime('%Y-%m-%d') %></td>
            </tr>
            <% end %>
        </tbody>
    </table>
</div>
