<div class="px-4 py-2">
    <h1>Transaction History</h1>
    <table class="table table-sm table-hover table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Company</th>
                <th scope="col">Ticker</th>
                <th scope="col">Transaction Type</th>
                <th scope="col">Amount</th>
                <th scope="col">Price</th>
                <th scope="col">Quantity</th>
                <th scope="col">Date</th>
            </tr>
        </thead>
        <tbody>
            <% if @transactions.any? %>
            <% @transactions.reverse.each_with_index do |transaction, index| %>
            <tr>
                <th scope="row"><%= index + 1 %></th>
                <td><%= transaction.stock.company_name %></td>
                <td><%= transaction.stock.ticker %></td>
                <td><%= transaction.transaction_type %></td>
                <td><%= display_with_decimals(transaction.amount, 2) %></td>
                <td><%= display_with_decimals(transaction.share_price, 2) %></td>
                <td><%= display_with_decimals(transaction.share_qty, 0) %></td>
                <td><%= transaction.created_at.utc.strftime('%Y-%m-%d') %></td>
            </tr>
            <% end %>

            <% else %>
                <tr>
                    <td>No transaction history yet.<td>
                </tr>
            <% end %>
        </tbody>
    </table>
</div>
